@* @addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@addTagHelper *, Cloudscribe.Web.Pagination

@{
    ViewData["Title"] = "SaveGET";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
    <title>Doctor Daywork</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/simplePagination.js/1.6/simplePagination.css">
    <style>
        body {
            font-family: Arial, sans-serif;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

            .table th,
            .table td {
                padding: 12px 15px;
                text-align: left;
                border-bottom: 1px solid #ddd;
            }

            .table thead th {
                background-color: #f5f5f5;
            }

        .sortable {
            cursor: pointer;
        }

        .sort-arrow {
            margin-left: 5px;
        }

        .pagination-container {
            margin-top: 1rem;
            text-align: center;
        }

        .pagination {
            display: inline-block;
            padding: 0;
            margin: 0;
        }

            .pagination li {
                display: inline;
                margin-right: 5px;
            }

                .pagination li a {
                    border: 1px solid #ddd;
                    padding: 5px 10px;
                    text-decoration: none;
                    color: #333;
                }

                .pagination li.active a {
                    background-color: #007bff;
                    color: #fff;
                }

        .page-number {
            font-weight: bold;
        }

        .current-page {
            color: #007bff;
        }
    </style>


    <div class="container">
        <a asp-controller="Daywork" asp-action="Index">
            <i class="fas fa-info-circle" title="Mangshifts">MangsDoctorifts</i>
        </a>
        <div>
            <input type="text" id="searchFilter" name="searchFilter" placeholder="Search">
        </div>
        <table class="table">
            <thead>
                <tr>
                    <th class="sortable" data-column="dayname">Day Name <span class="sort-arrow"></span></th>
                    <th class="sortable" data-column="DoctorName">Doctor Name <span class="sort-arrow"></span></th>
                    <th class="sortable" data-column="Hifts">Shifts <span class="sort-arrow"></span></th>
                </tr>
            </thead>
            <tbody id="tableBody">
                @foreach (var hospital in Model)
                {
                    <tr>
                        <td>@hospital.dayname</td>
                        <td>@hospital.DoctorName</td>
                        <td>@hospital.Hifts</td>
                    </tr>
                }
            </tbody>
        </table>
        <div id="pagination" class="pagination-container">
            <ul id="paginationButtons" class="pagination"></ul>
        </div>
    </div>
    <script>
        const searchInput = document.getElementById('searchFilter');
        const headerCells = document.querySelectorAll('.sortable');
        const tableBody = document.getElementById('tableBody');
        const paginationContainer = document.getElementById('pagination');
        const paginationButtons = document.getElementById('paginationButtons');
        let currentPage = 1;

        function displayRows(rows) {
            const rowsPerPage = 7;
            const startIndex = (currentPage - 1) * rowsPerPage;
            const endIndex = startIndex + rowsPerPage;

            rows.forEach(function (row, index) {
                if (index >= startIndex && index < endIndex) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        }

        function setupPagination(rows) {
            const totalPages = Math.ceil(rows.length / 7);

            if (totalPages > 1) {
                paginationContainer.style.display = 'block';

                paginationButtons.innerHTML = '';
                for (let i = 1; i <= totalPages; i++) {
                    const pageItem = document.createElement('li');
                    pageItem.classList.add('page-item');
                    const pageLink = document.createElement('a');
                    pageLink.classList.add('page-link', 'page-number');
                    pageLink.textContent = i;
                    pageLink.href = '#';
                    if (i === currentPage) {
                        pageLink.classList.add('current-page');
                    }
                    pageItem.appendChild(pageLink);
                    paginationButtons.appendChild(pageItem);
                }

                paginationButtons.addEventListener('click', function (event) {
                    if (event.target.classList.contains('page-number')) {
                        currentPage = parseInt(event.target.textContent);
                        displayRows(rows);
                        updatePaginationNumbers();
                    }
                });

                updatePaginationNumbers();
            } else {
                paginationContainer.style.display = 'none';
            }
        }

        function updatePaginationNumbers() {
            const pageLinks = paginationButtons.querySelectorAll('.page-number');
            pageLinks.forEach(function (link) {
                if (parseInt(link.textContent) === currentPage) {
                    link.classList.add('current-page');
                } else {
                    link.classList.remove('current-page');
                }
            });
        }

        function filterAndSortTable() {
            const searchValue = searchInput.value.toLowerCase();
            const rows = Array.from(tableBody.getElementsByTagName('tr'));

            rows.forEach(function (row) {
                const cells = row.getElementsByTagName('td');
                const match = Array.from(cells).some(function (cell) {
                    return cell.textContent.toLowerCase().includes(searchValue);
                });

                row.style.display = match ? '' : 'none';
            });

            const visibleRows = Array.from(tableBody.getElementsByTagName('tr')).filter(function (row) {
                return row.style.display !== 'none';
            });

            currentPage = 1;
            displayRows(visibleRows);
            setupPagination(visibleRows);
        }

        function sortTable(clickedHeaderCell) {
            // ... (existing sortTable code)
        }

        searchInput.addEventListener('input', filterAndSortTable);

        headerCells.forEach(function (cell) {
            cell.addEventListener('click', function () {
                sortTable(cell);
            });
        });

        const initialRows = Array.from(tableBody.getElementsByTagName('tr'));
        displayRows(initialRows);
        setupPagination(initialRows);
    </script>

 *@
@{
    ViewData["Title"] = "Allshifts";
    Layout = "_Layout";
}
@model PagedList.IPagedList<hospitalVm.DoctorDayworkVM>

@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@addTagHelper *, Cloudscribe.Web.Pagination
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<partial name="_AlertMessage" />
 <style>
    /* Add CSS styles for the background image */
    body {
        background-image: url('/Images/hospital14.jpg');

        background-size: cover;
        background-repeat: no-repeat;
        background-attachment: fixed;
    }

    /* Add other CSS styles here if needed */
</style>
<button type="button" id="allShiftsButton" class="btn btn-info">
    <a asp-controller="Daywork" asp-action="Index">
        <i class="fas fa-info-circle"></i> mang New Shifts
    </a>
</button>
<div id="doctorsTable">
    <table class="table table-bordered table-hover table-success">
        <thead>
            <tr>
                <th> Day Name</th>
                <th>Doctor Day Name</th>
              
                <th>DoctorName</th>
               
            </tr>
        </thead>
        <tbody>
            @foreach (var doctor in Model)
            {
                <tr data-doctor-id="@doctor.DoctorId" data-weekday-id="@doctor.WeekDaystId" data-daywork-id="@doctor.DoctorDayworkId">
                    <td>@doctor.dayname</td>
                  
                    <td>@doctor.DoctorName</td>
                    <td>@doctor.Hifts</td>
                    
                </tr>
            }
        </tbody>
    </table>
</div>


<partial name="_PaginationPartial" model="Model">
