@using hospitalUtilities

@model IEnumerable<hospitalVm.ApointmentVm>
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@addTagHelper *,Cloudscribe.Web.Pagination

@{
    ViewData["Title"] = "ConfimedApiontmentfordoctor";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>ConfimedApiontmentfordoctor</h1>
<style>
    /* Style for rows marked as not confirmed */
    .not-confirmed-row {
        background-color: red; /* You can customize this color */
        color: white; /* You can customize the text color */
    }

</style>


<div class="container mt-4">
    <h2 class="mb-4">Doctor List</h2>
    <a asp-controller="Doctor" asp-action="Save" class="btn btn-primary mb-3">
        <i class="fas fa-plus-circle"></i> Add New Doctor
    </a>

    <div class="table-responsive">
        <table class="table table-bordered">
            <thead class="thead-dark">
                <tr class="appointment-row">
                    <th>doctorname</th>
                    <th>PatientName</th>
                    <th>CreateDate</th>
                    <th>VisitType</th>
                   
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var doctor in Model)
                {
                    <input asp-for="@doctor.patientid" type="hidden" class="patient-id-input">

                    <tr class="appointment-row">
                        <td>@doctor.DoctorName</td>
                        <td>@doctor.PatientName</td>
                        <td>@doctor.CreateDate</td>
                        <td>@doctor.VisitType</td>

                       <td>
                            <button class="btn btn-sm btn-success confirm-btn">Confirm</button>



                            <a asp-area="Doctor"
                               asp-controller="PatientReport"
                               asp-action="Save"
                               class="get-more-info btn btn-sm btn-info"
                               asp-route-patientid="@doctor.patientid">
                                PatientReport
                            </a>
@*                            <div class="more-info"></div>
*@
                           @* <a  asp-route-id="@doctor.id" class="btn btn-sm btn-info not-confirmed-btn">
                                 vistit nit 
                            </a>*@
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

 



<script>
    // Add event listeners to the "not confirmed" buttons
    document.querySelectorAll('.not-confirmed-btn').forEach(button => {
        button.addEventListener('click', function () {
            // Find the closest row to the clicked button
            const row = this.closest('.appointment-row');

            // Toggle a CSS class to make the row red
            row.classList.toggle('not-confirmed-row');
        });
    });

    // Simulate a confirmation and change row color back
    document.querySelectorAll('.confirm-btn').forEach(button => {
        button.addEventListener('click', function () {
            // Find the closest row to the clicked button
            const row = this.closest('.appointment-row');

            // Remove the "not-confirmed-row" class to change the row color back
            row.classList.remove('not-confirmed-row');
        });
    });
</script>
