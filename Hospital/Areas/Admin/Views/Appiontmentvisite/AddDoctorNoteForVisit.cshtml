@model hospitalVm.ApointmentVm
@using System.Security.Claims
@using hospitalUtilities;

@{
    var userRole = User.FindFirst(ClaimTypes.Role)?.Value;
}




@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@addTagHelper *, Cloudscribe.Web.Pagination

@* @model hospitalVm.patientreportVm
 *@@{
    ViewData["Title"] = "Save";
    Layout = "_Layout";
}
<partial name="_AlertMessage" />
<link href="~/css/appvisitdoctornote.css" rel="stylesheet" />


<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <h2 class="text-center mb-4">Create Prescription</h2>

            <div class="background-container">
                <div class="row mt-4">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>PatientName</th>
                                <th>VisiteNotebydoctor</th>
                                <th>VisitStatus</th>
                                <th>CreateDate</th>
                                <th>VisitType</th>
                            </tr>
                        </thead>
                        <tbody id="contactTableBody">
                            <tr>
                                <td>@Model.PatientName</td>
                                <td>@Model.VisiteNotebydoctor</td>
                                <td>@Model.VisitStatus</td>
                                <td>@Model.CreateDate</td>
                                <td>@Model.VisitType</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <form>
                <div class="form-group">
               
                    <input type="hidden" asp-for="id" />
                    <input asp-for="doctorid" type="hidden" />
                    <input asp-for="DoctorAppointmentVIsitid" type="hidden" />
                    <input asp-for="doctorid" type="hidden" />
                    <input asp-for="patientid" type="hidden" />
                    <input asp-for="id" type="hidden">
                    <label asp-for="VisiteNotebydoctor">Prescription:</label>
                    <textarea asp-for="VisiteNotebydoctor" class="form-control full-width-textarea" rows="6" required></textarea>
                    <span asp-validation-for="VisiteNotebydoctor" class="text-danger"></span>
                </div>
                <hr />
                <div class="text-center">
                    <button type="submit" id="savedata" class="btn btn-primary btn-lg" style="background-color: #007bff; width: 100%; margin-top: 10px;">Create Visite Note</button>
                </div>
                </form>
                <div class="row mt-12">
                    <div class="col-md-12">
                        <div class="btn-group" style="width: 100%;">
                        @if (User.IsInRole(WebSiteRoles.WebSite_SuperAdmin))
                        {
                            

                        }


                           
                                <a asp-area="Admin" asp-controller="Appiontmentvisite"
                                   asp-action="GettAllVistitsByDoctorid"
                                   class="btn btn-primary" style="width: 100%;">All Bookings</a>
                        



                                @if (User.IsInRole(WebSiteRoles.WebSite_Doctor))
                                {


                            <a asp-area="Doctor" asp-controller="PatientReport" asp-action="Index"
                               class="btn btn-primary" style="width: 100%;">Patient Reports</a>


                            }                  

                           


                        </div>
                    </div>
                    <div class="col-md-4 text-md-right">
                        <!-- Left-aligned content here -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="~/js/appvsitdoctornote.js"></script>
}
